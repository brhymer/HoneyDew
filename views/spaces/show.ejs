<%- include("../partials/_head") %>
<main>
  <h1>Space Details</h1>

  <section>
    <p>
      <b>Name: </b><%= space.name %> &emsp; <b>Description: </b><%=
      space.description %> &emsp;<b>Features: </b><%= space.features %>
    </p>
    <!-- other properties can be added here -->
  </section>

  <section>
    <form action="/spaces/<%= space._id %>?_method=DELETE" method="POST">
      <button type="submit">Remove this space</button>
    </form>
    <a href="/spaces/<%= space._id %>/edit">
      <button>Modify this space</button>
    </a>
  </section>

  <section>
    <button id="myBtn"><h6>Add tasks to this Space</h6></button>

    <div class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <p>Some text in the Modal..</p>

        <form action="/tasks" enctype="multipart/form-data" method="POST">
          <div class="mt-3">
            <label class="d-block" for="title">Title</label>
            <input type="text" id="title" name="title" required />
          </div>
          <div class="mt-3">
            <label class="d-block" for="description">Description</label>
            <textarea
              name="description"
              id="description"
              rows="5"
              cols="50"
              placeholder="Describe your task here..."
            ></textarea>
          </div>
          <div class="mt-3">
            <label class="d-block" for="dueDate">Due Date:</label>
            <input type="date" id="dueDate" name="dueDate" required />
          </div>
          <div class="mt-3">
            <label class="d-block" for="imgFile"
              >Include Image (optional):</label
            >
            <input type="file" accept="image/*" , id="imgFile" name="imgFile" />
          </div>
          <div class="mt-3">
            <button class="btn btn-primary btn-sm" type="submit">
              Add Task
            </button>
            <a class="btn btn-danger btn-sm" href="/tasks">Cancel</a>
          </div>
        </form>
      </div>
    </div>
  </section>

  <section>
    <% if (tasks.length > 0) { %>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Title</th>
          <th scope="col">Description</th>
          <th scope="col">Complete?</th>
          <th scope="col">Due Date</th>
        </tr>
      </thead>
      <tbody>
        <% tasks.forEach((task) => { %>
        <tr>
          <th scope="row"><%=tasks.indexOf(task) + 1%></th>
          <td><a href="/tasks/<%=task.id %>"><%=task.title%></a></td>
          <td><a href="/tasks/<%=task.id %>"><%=task.description%></a></td>
          <td>insert a toggle or yes/no here</td>
          <td>date goes here</td>
        </tr>
        <% }) %>
      </tbody>
    </table>
    <% } %>
  </section>

  <a href="/spaces">Back to index page</a>
</main>
<%- include("../partials/_footer") %>
